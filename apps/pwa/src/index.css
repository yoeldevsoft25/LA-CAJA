@tailwind base;
@tailwind components;
@tailwind utilities;

/* Estilos para impresión de facturas fiscales */
@media print {
  /* Ocultar elementos no deseados */
  .no-print {
    display: none !important;
  }
  
  /* Ocultar header, nav, footer, sidebar del layout */
  header,
  nav,
  aside,
  footer {
    display: none !important;
  }
  
  /* Ocultar el wrapper del layout y sidebar */
  body > div > div > div:first-child,
  body > div > div > aside {
    display: none !important;
  }
  
  /* Ocultar el wrapper del layout */
  main {
    padding: 0 !important;
    margin: 0 !important;
    overflow: visible !important;
  }
  
  /* Ocultar animaciones y transiciones */
  [class*="motion"] {
    opacity: 1 !important;
    transform: none !important;
  }
  
  /* Estilos para el contenedor de factura */
  .invoice-print-container {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 20px !important;
    background: white !important;
    position: relative !important;
  }
  
  /* Asegurar que las tablas se muestren correctamente */
  .invoice-print-container table {
    display: table !important;
    width: 100%;
    border-collapse: collapse;
  }
  
  .invoice-print-container tr {
    display: table-row !important;
  }
  
  .invoice-print-container td,
  .invoice-print-container th {
    display: table-cell !important;
  }
  
  .print-break {
    page-break-after: always;
  }
  
  body {
    background: white !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  .bg-white {
    background: white !important;
  }
  
  .print\\:shadow-none {
    box-shadow: none !important;
  }
  
  .print\\:border-0 {
    border: 0 !important;
  }
  
  /* Asegurar que las tablas se impriman correctamente */
  .invoice-print-container table {
    page-break-inside: avoid;
  }
  
  /* Evitar cortes de página en elementos importantes */
  .invoice-print-container > * {
    page-break-inside: avoid;
  }
  
  /* Asegurar que el QR se imprima correctamente */
  .invoice-print-container img {
    max-width: 100%;
    height: auto;
    display: block !important;
  }
  
  /* Asegurar que los textos se impriman en negro */
  .invoice-print-container {
    color: black !important;
  }
  
  .invoice-print-container * {
    color: black !important;
  }
}

@layer base {
  :root {
    /* Backgrounds - Clean white base */
    --background: 0 0% 100%;
    --foreground: 240 10% 4%;

    /* Cards */
    --card: 0 0% 100%;
    --card-foreground: 240 10% 4%;

    /* Popover */
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 4%;

    /* Primary - Sophisticated dark slate */
    --primary: 240 6% 10%;
    --primary-foreground: 0 0% 98%;

    /* Secondary - Subtle neutral */
    --secondary: 240 5% 96%;
    --secondary-foreground: 240 6% 10%;

    /* Muted - Soft gray palette */
    --muted: 240 5% 96%;
    --muted-foreground: 240 4% 46%;

    /* Accent - Minimal highlight */
    --accent: 240 5% 96%;
    --accent-foreground: 240 6% 10%;

    /* Destructive - Understated red */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;

    /* Success - Calm green */
    --success: 142 71% 45%;
    --success-foreground: 0 0% 98%;

    /* Warning - Soft amber */
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 98%;

    /* Info - Subtle blue */
    --info: 199 89% 48%;
    --info-foreground: 0 0% 98%;

    /* Borders & Inputs - Visible but refined lines */
    --border: 240 5.9% 70%;
    --input: 240 5.9% 70%;
    --ring: 240 6% 10%;

    /* Radius - Softer corners */
    --radius: 0.5rem;
  }

  .dark {
    /* Backgrounds */
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;

    /* Cards */
    --card: 240 10% 8%;
    --card-foreground: 0 0% 98%;

    /* Popover */
    --popover: 240 10% 8%;
    --popover-foreground: 0 0% 98%;

    /* Primary */
    --primary: 262 83% 58%;
    --primary-foreground: 0 0% 100%;

    /* Secondary */
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;

    /* Muted */
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;

    /* Accent */
    --accent: 262 90% 50%;
    --accent-foreground: 0 0% 100%;

    /* Destructive */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 100%;

    /* Success */
    --success: 142 70% 45%;
    --success-foreground: 0 0% 100%;

    /* Warning */
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    /* Info */
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    /* Borders & Inputs */
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 262 83% 58%;
  }
}

@layer base {
  * {
    @apply border-border/0;
  }
  body {
    @apply bg-background text-foreground;
  }
  
  /* A11Y-04: Focus visible en todos los elementos interactivos */
  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
  
  /* Estilos específicos para botones */
  button:focus-visible,
  [role="button"]:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
  
  /* Estilos para inputs */
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply outline-none ring-2 ring-ring;
  }
  
  /* Links */
  a:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background rounded-sm;
  }
  
  /* A11Y-07: Soporte para reduced motion ya existente en Tailwind */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer utilities {
  .bg-gradient-radial {
    background-image: radial-gradient(circle, var(--tw-gradient-stops));
  }
}
